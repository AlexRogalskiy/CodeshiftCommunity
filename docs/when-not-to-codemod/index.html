<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/CodeshiftCommunity/blog/rss.xml" title="CodeshiftCommunity Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/CodeshiftCommunity/blog/atom.xml" title="CodeshiftCommunity Blog Atom Feed"><title data-react-helmet="true">When not to codemod | CodeshiftCommunity</title><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/CodeshiftCommunity/docs/when-not-to-codemod"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="When not to codemod | CodeshiftCommunity"><meta data-react-helmet="true" name="description" content="Unfortunately Codemods aren&#x27;t the solution to every problem, so as an author you have to weigh-up whether it&#x27;s feasible before investing time into writing one."><meta data-react-helmet="true" property="og:description" content="Unfortunately Codemods aren&#x27;t the solution to every problem, so as an author you have to weigh-up whether it&#x27;s feasible before investing time into writing one."><link data-react-helmet="true" rel="shortcut icon" href="/CodeshiftCommunity/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/CodeshiftCommunity/docs/when-not-to-codemod"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/CodeshiftCommunity/docs/when-not-to-codemod" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/CodeshiftCommunity/docs/when-not-to-codemod" hreflang="x-default"><link rel="stylesheet" href="/CodeshiftCommunity/assets/css/styles.20719463.css">
<link rel="preload" href="/CodeshiftCommunity/assets/js/styles.78c575be.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/runtime~main.41e756eb.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/main.228e145c.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/1.e6b1a032.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/2.ee76f124.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/23.2d8c2d9a.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/24.945a68b4.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/935f2afb.c187479f.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/17896441.49de8119.js" as="script">
<link rel="preload" href="/CodeshiftCommunity/assets/js/19ceac16.8dc00f2c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/CodeshiftCommunity/"><img src="/CodeshiftCommunity/img/logo.svg" alt="CodeshiftCommunity Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/CodeshiftCommunity/img/logo.svg" alt="CodeshiftCommunity Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">CodeshiftCommunity</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" docid="introduction" href="/CodeshiftCommunity/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/CodeshiftCommunity/CodeshiftCommunity" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/CodeshiftCommunity/"><img src="/CodeshiftCommunity/img/logo.svg" alt="CodeshiftCommunity Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/CodeshiftCommunity/img/logo.svg" alt="CodeshiftCommunity Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">CodeshiftCommunity</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" docid="introduction" href="/CodeshiftCommunity/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/CodeshiftCommunity/CodeshiftCommunity" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/guiding-principles">Guiding principles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/faq">FAQ</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/ecosystem">Ecosystem</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/authoring">Authoring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/consuming">Consuming</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/contribution">Contribution</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/CodeshiftCommunity/docs/your-first-codemod">Your first codemod</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/CodeshiftCommunity/docs/understanding-asts">Understanding ASTs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/CodeshiftCommunity/docs/when-not-to-codemod">When not to codemod</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/CodeshiftCommunity/docs/prompting-for-human-input">Prompting for human input</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Recipes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/import-manipulation">Import manipulation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/CodeshiftCommunity/docs/react">React &amp; JSX</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">When not to codemod</h1></header><div class="markdown"><p>Unfortunately Codemods aren&#x27;t the solution to every problem, so as an author you have to weigh-up whether it&#x27;s feasible before investing time into writing one.</p><p>Here is a list of some use-cases that are not possible or extremely hard to codemod and some possible alternatives.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="when-a-codemod-doesnt-make-sense"></a>When a codemod doesn&#x27;t make sense?<a class="hash-link" href="#when-a-codemod-doesnt-make-sense" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="api--feature-removal"></a>API / feature removal<a class="hash-link" href="#api--feature-removal" title="Direct link to heading">#</a></h3><p>When a part of your API has been removed without an alternative</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(130, 170, 255)">DEPRECATED_BAZ</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;my-module&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token constant" style="color:rgb(130, 170, 255)">DEPRECATED_BAZ</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this case a codemod to remove <code>DEPRECATED_BAZ</code> will lead to the following error</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">import { foo, bar, DEPRECATED_BAZ} from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">import { foo, bar } from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">console.log(DEPRECATED_BAZ()); // ðŸ’¥ Uncaught ReferenceError: DEPRECATED_BAZ is not defined</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="theres-too-much-human-intervention-required"></a>There&#x27;s too much human intervention required.<a class="hash-link" href="#theres-too-much-human-intervention-required" title="Direct link to heading">#</a></h3><p>Sometimes a change simply requires too much human intervention. These are usually cases where there might be implicit side-effects to your changes and you cannot write a codemod that will confidently get you from A-B.</p><p>For example, consider moving from React class components to a hooks based function component. Changes in the React API might have implicit differences that all need to be accounted for. And moving blocks of logic from one to the other might seem possible at first but will completely become over complicated and not worth your time.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changes-that-need-an-awareness-of-runtime-usage"></a>Changes that need an awareness of runtime usage<a class="hash-link" href="#changes-that-need-an-awareness-of-runtime-usage" title="Direct link to heading">#</a></h3><p>For example: When you need the full runtime result of a React tree</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sometimes-we-need-to-know-what-values-are-being-used"></a>Sometimes we need to know what values are being used.<a class="hash-link" href="#sometimes-we-need-to-know-what-values-are-being-used" title="Direct link to heading">#</a></h3><p>This can be hard if it is coming in across module boundaries, using object spreading and so on.</p><p>Consider removing <code>DEPRECATED_BAZ</code> from <code>my-module</code> when it&#x27;s imported and used like so:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/utils/my-module.js</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">export</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">as</span><span class="token plain"> myModule </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;my-module&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// src/components/App.js</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword module" style="font-style:italic">as</span><span class="token imports"> utils</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;../utils/my-module&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">App</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token parameter">props</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain">utils</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this case, we&#x27;re not able to guarantee that you&#x27;ll be able to safely remove all usages of the <code>DEPRECATED_BAZ</code> function.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="usage-paradigm-shifts-where-the-old-paradigm-does-not-have-a-11-in-the-new-paradigm"></a>Usage paradigm shifts where the old paradigm does not have a 1:1 in the new paradigm<a class="hash-link" href="#usage-paradigm-shifts-where-the-old-paradigm-does-not-have-a-11-in-the-new-paradigm" title="Direct link to heading">#</a></h3><p>Sometimes changes between package versions don&#x27;t have a clear 1:1 mapping. Say in the previous version of our package you solved a problem with one approach and decided that in the new version of your package an entirely new architecture is required to solve that problem holistically. Resulting in a change so different from the original that there&#x27;s no clear 1:1 mapping.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="consumers-need-to-provide-more-information-than-they-did-before"></a>Consumers need to provide more information than they did before<a class="hash-link" href="#consumers-need-to-provide-more-information-than-they-did-before" title="Direct link to heading">#</a></h3><p>In some cases, you might need to ask your consumer to provide more information to your API than you were asking for prior.</p><p>For example when a component now requires a new prop to function properly:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword module" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">MyComponent</span><span class="token plain"> </span><span class="token keyword module" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;../utils/my-module&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:rgb(130, 170, 255)">App</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token parameter">props</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword control-flow" style="font-style:italic">return</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">div </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token plain">props</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> securityToken</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;???&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-to-do-when-a-codemod-isnt-possible"></a>What to do when a codemod isn&#x27;t possible?<a class="hash-link" href="#what-to-do-when-a-codemod-isnt-possible" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prompting-for-user-input"></a>Prompting for user input<a class="hash-link" href="#prompting-for-user-input" title="Direct link to heading">#</a></h3><p>In most cases, we recommend that you aim to do as much of the work as possible, right up until you can&#x27;t reasonably to anymore. Then prompt users for their intervention.</p><p>Let&#x27;s use our previous scenario as an example. Say your component now requires an additional <code>securityToken</code> prop to function safely, but you need a user to actually to the work to first get the token and then safely add it to your file.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly jsx"><div tabindex="0" class="prism-code language-jsx codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> React </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> MyComponent </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;../utils/my-module&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">App</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token parameter">props</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag spread punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag spread punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token tag spread attr-value" style="color:rgb(255, 85, 114)">props</span><span class="token tag spread punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">securityToken</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">???</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This is a great candidate for prompting for user input. Whenever you come across a scenario like this, we recommend leaving comments like so:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">import React from &#x27;react&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">import MyComponent from &#x27;../utils/my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">/** TODO (Codemod generated): Please provide a security token here */</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token plain">const App = props =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> return &lt;div {...props} securityToken=&quot;???&quot; /&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>For more information on how to write a transform that does this, please refer to the <a href="/CodeshiftCommunity/docs/prompting-for-human-input">prompting for human input guide</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="thinking-outside-of-the-box"></a>Thinking outside of the box<a class="hash-link" href="#thinking-outside-of-the-box" title="Direct link to heading">#</a></h3><p>You might come across the case where an &quot;ideal&quot; solution is too complex or too full of edge cases to do reasonably. When this happens, consider looking for a less than ideal but working solution.</p><p>Consider the relatively trivial scenario of renaming an import:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">import { Foo, Baz } from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">import { Foo, Bar } from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">console.log(Baz);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">console.log(Bar);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>At first you might think it&#x27;s a good idea to simply rename the import and look for all references of that import in your code.
But what happens when your import can be used in many different contexts.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">import { Foo, Baz } from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">import { Foo, Bar } from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">console.log(Baz);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">console.log(Bar);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const App = props =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"> return &lt;Bar {...props} /&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"> return &lt;Baz {...props} /&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You now have to expand your transform to not only look for <code>Identifiers</code> with the name <code>Baz</code> but also <code>JsxExpressions</code> and maybe more?</p><p>What if we could side-step that entire part of the transform and simply alias the import instead?</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly diff"><div tabindex="0" class="prism-code language-diff codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted prefix inserted" style="color:rgb(195, 232, 141)">+</span><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)">import { Foo, Bar as Baz } from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token inserted-sign inserted line" style="color:rgb(195, 232, 141)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(255, 85, 114)">-</span><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)">import { Foo, Bar } from &#x27;my-module&#x27;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted line" style="color:rgb(255, 85, 114)"></span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">console.log(Bar);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">const App = props =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> return &lt;Bar {...props} /&gt;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token unchanged line"></span><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Although you might see this result as less than idea, since the logic still refers to the old name. It&#x27;s still a great solution to the problem because we now have a codemod that is a lot simpler (because we can get rid of half of the find and replace logic) and safer (because it will always work regardless of the usage).
Keep this in mind, next time you&#x27;re running into countless edge-cases.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/CodeshiftCommunity/CodeshiftCommunity/edit/master/website/docs/guides/when-not-to-codemod.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/CodeshiftCommunity/docs/understanding-asts"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Understanding ASTs</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/CodeshiftCommunity/docs/prompting-for-human-input"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Prompting for human input Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-a-codemod-doesnt-make-sense" class="table-of-contents__link">When a codemod doesn&#39;t make sense?</a><ul><li><a href="#api--feature-removal" class="table-of-contents__link">API / feature removal</a></li><li><a href="#theres-too-much-human-intervention-required" class="table-of-contents__link">There&#39;s too much human intervention required.</a></li><li><a href="#changes-that-need-an-awareness-of-runtime-usage" class="table-of-contents__link">Changes that need an awareness of runtime usage</a></li><li><a href="#sometimes-we-need-to-know-what-values-are-being-used" class="table-of-contents__link">Sometimes we need to know what values are being used.</a></li><li><a href="#usage-paradigm-shifts-where-the-old-paradigm-does-not-have-a-11-in-the-new-paradigm" class="table-of-contents__link">Usage paradigm shifts where the old paradigm does not have a 1:1 in the new paradigm</a></li><li><a href="#consumers-need-to-provide-more-information-than-they-did-before" class="table-of-contents__link">Consumers need to provide more information than they did before</a></li></ul></li><li><a href="#what-to-do-when-a-codemod-isnt-possible" class="table-of-contents__link">What to do when a codemod isn&#39;t possible?</a><ul><li><a href="#prompting-for-user-input" class="table-of-contents__link">Prompting for user input</a></li><li><a href="#thinking-outside-of-the-box" class="table-of-contents__link">Thinking outside of the box</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/CodeshiftCommunity/docs/">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/CodeshiftCommunity/docs/your-first-codemod">Your first codemod</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/CodeshiftCommunity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/CodeshiftCommunity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/CodeshiftCommunity" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/CodeshiftCommunity/CodeshiftCommunity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 CodeshiftCommunity.</div></div></div></footer></div>
<script src="/CodeshiftCommunity/assets/js/styles.78c575be.js"></script>
<script src="/CodeshiftCommunity/assets/js/runtime~main.41e756eb.js"></script>
<script src="/CodeshiftCommunity/assets/js/main.228e145c.js"></script>
<script src="/CodeshiftCommunity/assets/js/1.e6b1a032.js"></script>
<script src="/CodeshiftCommunity/assets/js/2.ee76f124.js"></script>
<script src="/CodeshiftCommunity/assets/js/23.2d8c2d9a.js"></script>
<script src="/CodeshiftCommunity/assets/js/24.945a68b4.js"></script>
<script src="/CodeshiftCommunity/assets/js/935f2afb.c187479f.js"></script>
<script src="/CodeshiftCommunity/assets/js/17896441.49de8119.js"></script>
<script src="/CodeshiftCommunity/assets/js/19ceac16.8dc00f2c.js"></script>
</body>
</html>